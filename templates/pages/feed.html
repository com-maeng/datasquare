{% extends "base.html" %}

{% block title %}Issue feed - DataSquare{% endblock %}

{% block content %}
<div class="container">
    <div class="left">
        <input type="text" id="search-input" placeholder="Search..">
        <button onclick="search()">Search</button>
        <div id="recent-searches">
            <ul id="recent-searches">
                <!-- 최근 검색어 목록 -->
            </ul>
        </div>
        <div id="teams">
            <ul id="teams">
                {% for team in teams %}
                <li><a href="/feed/search?keyword=&team={{ team.team_name }}">{{ team.team_name }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="right">
        <div class="controls">
            <button onclick="filterMyIssues()">My Issues</button>
            <button onclick="sortIssues('newest')">Newest</button>
            <button onclick="sortIssues('oldest')">Oldest</button>
        </div>
        <div class="issues">
            {% for issue in issues %}
            <div class="issue-card">
                <img src="data:image;base64,{{ issue.profile_pic | safe }}" alt="Profile Picture">
                <h3>{{ issue.title }}</h3>
                <p>{{ issue.content }}</p>
                <p>{{ issue.author_name }}</p>
                <p>{{ issue.team }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/feed.js') }}"></script>
{% endblock %}